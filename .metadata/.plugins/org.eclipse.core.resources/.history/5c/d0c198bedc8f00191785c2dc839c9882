import java.io.IOException;
import javax.servlet.Filter;
import javax.servlet.FilterChain;
import javax.servlet.FilterConfig;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;

public class EntradaFilter implements Filter {

	private boolean upperCase = false;

	public EntradaFilter() {
	}

	public void destroy() {
	}

	public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {
		System.out.println("doFilter");
		
		String nomeInformado = "";
		String nomeModificado = "";

		nomeInformado = request.getParameter("nome") + " " + request.getParameter("sobrenome");
		nomeModificado = nomeInformado;

		if (upperCase)
			nomeModificado = nomeInformado.toUpperCase();

		request.setAttribute("nomeInformado", nomeInformado + " (tamanho: " + nomeInformado.length() + ")");
		request.setAttribute("nomeModificado", nomeModificado + " (tamanho: " + nomeModificado.length() + ")");

		chain.doFilter(request, response);
	}

	public void init(FilterConfig fConfig) throws ServletException {
		System.out.println("init fiter param: " + fConfig.getInitParameter("init"));

		if (fConfig.getInitParameter("init").equalsIgnoreCase("upper"))
			upperCase = true;
	}
}